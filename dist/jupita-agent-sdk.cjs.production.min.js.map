{"version":3,"file":"jupita-agent-sdk.cjs.production.min.js","sources":["../src/agent/Contants.ts","../src/agent/ModelName.ts","../src/agent/MessageType.ts","../src/network/ErrorResponse.ts","../src/agent/Agent.ts"],"sourcesContent":["\nexport class Constants {\n\n    // define req variable\n    private static url: string = \"https://api.jupita.io/v1\";\n    public static dumpEndpoint: string = `${Constants.url}/dump`;\n    public static feedEndpoint: string = `${Constants.url}/feed`;\n    public static ratingEntpoint: string = `${Constants.url}/rating`;\n\n}\n\n\n\n","export class ModelName {\n    public static JUPITAV1: string = \"JupitaV1\";\n    public static JUPITAV2: string = \"JupitaV2\";\n}","export class MessageType {\n    public static Agent: number = 0;\n    public static Client: number = 1;\n};","// handling error for invalid input\nexport class InvalidParameterException extends Error {\n    constructor (message: string) {\n        super(message);\n        this.name = \"InvalidParameterException\";\n    }\n}","import request from \"request\";\nimport { Constants } from \"./Contants\";\nimport { ModelName } from \"./ModelName\";\nimport { MessageType } from \"./MessageType\";\n\n// error export\nimport { InvalidParameterException } from \"../network/ErrorResponse\"\n\n\n\nexport class Agent {\n    // initialize variable\n    token: string;\n    agent_id: string;\n\n    // define constructor\n    constructor(token: string, agent_id: string) {\n        this.token = token\n        this.agent_id = agent_id\n    };\n\n    // dump\n    dump(text: string, client_id: number, message_type: number = MessageType.Agent, isCall = false, listener: defaultListener|null|undefined=null) {\n\n        // checking input\n        if (message_type !== 1 || 0) {\n            throw new InvalidParameterException(` invalid input`)\n        };\n\n        // check optional parameter for listener\n        if (listener !== null) {\n            request.post(Constants.dumpEndpoint, {\n                json: { \"token\": this.token, \"agent id\": this.agent_id, \"client id\": client_id, \"message type\": message_type, \"text\": text, \"isCall\": isCall },\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            }, (err, res, body) => {\n                console.log(res)\n                if (err || res.statusCode !== 200) {\n                    listener.onError(res.statusCode.toString(), res.body)\n                } else {\n                    listener.onSuccess(body)\n                }\n            })\n        } else { console.log(\"Listener is not Defined\") };\n    }\n\n    // feed\n    feed(listener: defaultListener|null|undefined) {\n\n        request.post(Constants.feedEndpoint, {\n            json: { \"token\": this.token, \"agent id\": this.agent_id },\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n\n        }, (err, res, body) => {\n            if (listener == null || listener == undefined) return\n\n            if (err || res.statusCode !== 200) {\n                listener.onError(res.statusCode.toString(), res.body)\n            } else {\n                listener.onSuccess(body)\n            }\n        })\n\n\n    }\n\n    // rating listener\n    rating(model_name=ModelName.JUPITAV1, listener: defaultListener|null|undefined=null) {\n        // checking input\n        if (model_name !== (ModelName.JUPITAV1 || ModelName.JUPITAV2)) {\n            throw new InvalidParameterException(`${model_name} is a not valid modelname try ${ModelName.JUPITAV1} or ${ModelName.JUPITAV2}`)\n        }\n\n        // optional paramater\n        if (listener !== null) {\n            request.post(Constants.ratingEntpoint, {\n                json: {\"token\": this.token, \"agent id\": this.agent_id, \"model\": model_name},\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            }, (err, res, body) => {\n                if(err || res.statusCode !== 200){\n                    listener.onError(res.statusCode.toString(), res.body)\n                } else {\n                    listener.onSuccess(body)\n                }\n            })\n        } else {\n            console.log(\"No listener supplied\");\n        }\n\n    }\n}"],"names":["Constants","url","ModelName","MessageType","InvalidParameterException","message","name","Error","token","agent_id","dump","text","client_id","message_type","isCall","listener","Agent","request","post","dumpEndpoint","json","this","headers","err","res","body","console","log","statusCode","onError","toString","onSuccess","feed","feedEndpoint","undefined","rating","model_name","JUPITAV1","JUPITAV2","ratingEntpoint"],"mappings":"kJACaA,eAIKA,gBADCA,MAAc,oCAEfA,eAA0BA,EAAUC,YACpCD,iBAA4BA,EAAUC,kBCP3CC,eACKA,WAAmB,WACnBA,WAAmB,eCFxBC,4oCACKA,QAAgB,EAChBA,SAAiB,MCDtBC,iCACIC,8BACHA,UACDC,KAAO,0HAH2BC,4CCe/BC,EAAeC,QAClBD,MAAQA,OACRC,SAAWA,6BAIpBC,KAAA,SAAKC,EAAcC,EAAmBC,EAA0CC,EAAgBC,eAA1DF,IAAAA,EAAuBV,EAAYa,gBAAOF,IAAAA,GAAS,YAAOC,IAAAA,EAAyC,MAGhH,IAAjBF,QACM,IAAIT,oBAIG,OAAbW,EACAE,EAAQC,KAAKlB,EAAUmB,aAAc,CACjCC,KAAM,OAAWC,KAAKb,iBAAmBa,KAAKZ,qBAAuBG,iBAA2BC,OAAsBF,SAAgBG,GACtIQ,QAAS,gBACW,sBAErB,SAACC,EAAKC,EAAKC,GACVC,QAAQC,IAAIH,GACRD,GAA0B,MAAnBC,EAAII,WACXb,EAASc,QAAQL,EAAII,WAAWE,WAAYN,EAAIC,MAEhDV,EAASgB,UAAUN,MAGtBC,QAAQC,IAAI,8BAIzBK,KAAA,SAAKjB,GAEDE,EAAQC,KAAKlB,EAAUiC,aAAc,CACjCb,KAAM,OAAWC,KAAKb,iBAAmBa,KAAKZ,UAC9Ca,QAAS,gBACW,sBAGrB,SAACC,EAAKC,EAAKC,GACM,MAAZV,GAAgCmB,MAAZnB,IAEpBQ,GAA0B,MAAnBC,EAAII,WACXb,EAASc,QAAQL,EAAII,WAAWE,WAAYN,EAAIC,MAEhDV,EAASgB,UAAUN,UAQ/BU,OAAA,SAAOC,EAA+BrB,eAA/BqB,IAAAA,EAAWlC,EAAUmC,mBAAUtB,IAAAA,EAAyC,MAEvEqB,KAAgBlC,EAAUmC,UAAYnC,EAAUoC,gBAC1C,IAAIlC,EAA6BgC,mCAA2ClC,EAAUmC,gBAAenC,EAAUoC,UAIxG,OAAbvB,EACAE,EAAQC,KAAKlB,EAAUuC,eAAgB,CACnCnB,KAAM,OAAUC,KAAKb,iBAAmBa,KAAKZ,eAAmB2B,GAChEd,QAAS,gBACW,sBAErB,SAACC,EAAKC,EAAKC,GACPF,GAA0B,MAAnBC,EAAII,WACVb,EAASc,QAAQL,EAAII,WAAWE,WAAYN,EAAIC,MAEhDV,EAASgB,UAAUN,MAI3BC,QAAQC,IAAI"}